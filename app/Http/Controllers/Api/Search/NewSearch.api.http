### New Search HTTP tests (comprehensive)

@base=http://localhost:8000
@json=application/json
@token=4|pTEv0RhFJfFFSUTkpBPavtlp3ka6bboTq1o4kBwb3477d2ec

#################################################################
# 1) Unauthenticated -> expect 401
#################################################################

GET {{base}}/api/search
Accept: {{json}}

#################################################################
# 2) Authenticated basic search across files + folders
#################################################################

GET {{base}}/api/search
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 3) Search only files with extension and size filters
#################################################################

GET {{base}}/api/search?type=file&extension=pdf&size_min=1024&size_max=10485760
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 4) Search only folders
#################################################################

GET {{base}}/api/search?type=folder&q=project
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 5) Search by owner_id and date range
#################################################################

GET {{base}}/api/search?owner_id=5&date_from=2025-10-01&date_to=2025-11-01
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 6) Filter by shared_status
#################################################################

GET {{base}}/api/search?shared_status=public
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 7) Pagination
#################################################################

GET {{base}}/api/search?q=file&page=2&per_page=5
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# 8) Suggestions
#################################################################

GET {{base}}/api/search/suggestions?q=doc
Accept: {{json}}
Authorization: Bearer {{token}}

#################################################################
# Expected shapes
#################################################################
# Search result example (file):
# {
#   "success": true,
#   "data": {
#     "data": [
#       {
#         "type": "file",
#         "id": 123,
#         "display_name": "report_q1.pdf",
#         "file_size": 245760,
#         "mime_type": "application/pdf",
#         "file_extension": "pdf",
#         "owner_id": 5,
#         "owner_name": "Nguyễn Văn A",
#         "owner_email": "user@gmail.com",
#         "shared_status": "shared",
#         "created_at": "2025-10-12T08:30:00Z"
#       }
#     ],
#     "pagination": {
#       "current_page": 1,
#       "total_pages": 5,
#       "total_items": 92
#     }
#   },
#   "error": null,
#   "meta": null
# }
