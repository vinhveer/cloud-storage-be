@baseUrl = http://localhost:8000
// user id 15
@token = 20|y4xWD4RXu0vkC19dloofc7Th167rQyMTj71KHxwjd55bcd1f
// user id 3
@otherToken = 21|rFJVt1xln3wmkPn5AKez8GilVJL1y3yJko4G3kwc032a5ef9

### 1) Happy path — copy ALL versions (default) — 200 OK
POST {{baseUrl}}/api/files/46/copy
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "destination_folder_id": null
}

### 2) Happy path — copy ONLY latest version via query — 200 OK
POST {{baseUrl}}/api/files/46/copy?only_latest=true
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "destination_folder_id": null
}

### 3) Happy path — copy ONLY latest version via JSON body — 200 OK
POST {{baseUrl}}/api/files/46/copy
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "destination_folder_id": null,
  "only_latest": true
}

### 5) Unauthenticated — 401
POST {{baseUrl}}/api/files/4/copy
Accept: application/json
Content-Type: application/json

{
  "destination_folder_id": 20
}

### 6) Not found — 404 (file not found)
POST {{baseUrl}}/api/files/999999/copy
Accept: application/json
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "destination_folder_id": 2
}

### 7) Forbidden — 403 (other user's file)
# Use a token that belongs to a different user than the file owner
POST {{baseUrl}}/api/files/35/copy
Accept: application/json
Authorization: Bearer {{otherToken}}
Content-Type: application/json

{
  "destination_folder_id": 1
}
